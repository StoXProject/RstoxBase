<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate number density from NASC in length intervals — AcousticDensity • RstoxBase</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate number density from NASC in length intervals — AcousticDensity"><meta property="og:description" content="This function converts NASC to area number density for each species category based on the acoustic target strength as a function of length for each acoustic category."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RstoxBase</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.2.0-9005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/StoXProject/RstoxBase/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate number density from NASC in length intervals</h1>
    <small class="dont-index">Source: <a href="https://github.com/StoXProject/RstoxBase/blob/master/R/Density.R" class="external-link"><code>R/Density.R</code></a></small>
    <div class="hidden name"><code>AcousticDensity.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function converts NASC to area number density for each species category based on the acoustic target strength as a function of length for each acoustic category.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">AcousticDensity</span><span class="op">(</span></span>
<span>  <span class="va">MeanNASCData</span>,</span>
<span>  <span class="va">AssignmentLengthDistributionData</span>,</span>
<span>  <span class="va">AcousticTargetStrength</span>,</span>
<span>  SpeciesLink <span class="op">=</span> <span class="fu">data.table</span><span class="fu">::</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-meannascdata">MeanNASCData<a class="anchor" aria-label="anchor" href="#arg-meannascdata"></a></dt>
<dd><p>The <code><a href="MeanNASCData.html">MeanNASCData</a></code> data.</p></dd>


<dt id="arg-assignmentlengthdistributiondata">AssignmentLengthDistributionData<a class="anchor" aria-label="anchor" href="#arg-assignmentlengthdistributiondata"></a></dt>
<dd><p>The <code><a href="AssignmentLengthDistributionData.html">AssignmentLengthDistributionData</a></code> data.</p></dd>


<dt id="arg-acoustictargetstrength">AcousticTargetStrength<a class="anchor" aria-label="anchor" href="#arg-acoustictargetstrength"></a></dt>
<dd><p>The <code><a href="AcousticTargetStrength.html">AcousticTargetStrength</a></code> process data.</p></dd>


<dt id="arg-specieslink">SpeciesLink<a class="anchor" aria-label="anchor" href="#arg-specieslink"></a></dt>
<dd><p>A table of the two columns AcousticCategory and SpeciesCategory.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An object of StoX data type <code><a href="DensityData.html">DensityData</a></code>. Note that the Density column of the Data table has unit nmi^-2 and DensityType "AreaNumberDensity".</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The AcousticDensity function calculates length distributed densities as number of fish per square nautical mile by vertical layer. Length based density distributions are calculated for each NASC value of the input acoustic data set (MacLennan <em>et al</em>, 2002) . Usually, the NASC values have a horizontal resolution at PSU level (e.g. transect). By combining a NASC value with a length distribution (usually a total combined length distribution derived from more than one biotic station) and applying a TS vslength relationship, a corresponding density length distribution can be calculated.</p>
<p>The horizontal resolution (EDSU, PSU or Stratum) of the NASC object determines the horizontal resolution of the densities. The same principal applies for the vertical layer resolution.</p>
<p>To combine a NASC value and a length distribution into a density distribution, the TS vs length relationship for the actual species and acoustic frequency, needs to be known.Constants in the TS vs length formula has to be given. If the vertical layer resolution is channels referred from surface and with a fixed thickness, the mean depth of each channel can be calculated and a depth dependent TS vs length formula may be applied. The calculation of densities by length from a NASC value and a corresponding length distribution (as percentage or proportion) is performed as follows (Ona, 2003, Simmond and MacLennan, 2005, Johnsen <em>et al</em>, 2019):</p>
<p>$$TS_l = m \log_{10}{(l)}+a + d \log_{10}{(1 + \frac{r_y}{10})}$$</p>
<p>where:</p>
<p>\(TS_l\) = target strength (dB re 1 \(m^{2}\)) of a fish with length l (cm)</p>
<p>\(m\) = constant in the TS vs length relationship for the given
species</p>
<p>\(a\) = constant in the TS vs length relationship for the given species</p>
<p>\(d\) = constant in the TS vs length relationship related to depth dependent TS</p>
<p>\(l\) = length of the fish (cm). Typically, the center length of a length group</p>
<p>\(r_y\) = average depth (m) of the NASC channel \(y\)</p>
<p>$$\sigma_{bs,l} = 10^{  (  \frac{TS_l}{10}  )  }   $$</p>
<p>where:</p>
<p>\(\sigma_{bs,l}\) = acoustic backscattering cross-section (\(m^{2}\)) for a fish of length \(l\)</p>
<p>$$NASC_l = NASC \frac{\sigma_{bs,l} p_l}{\sum_l{( \sigma_{bs,l} p_l )} } $$</p>
<p>where:</p>
<p>\(NASC\) =  the total NASC which is used to calculate densities by length</p>
<p>\(NASC_l\) = the proportion of the total \(NASC\) which can be attributed to length group \(l\).  The sum of \(NASC_l\) for all length groups in the total length distribution is equal to \(NASC\)</p>
<p>\(p_l\) = proportion of fish of length \(l\) in the input length distribution. Sum of all \(p_l\) is 1.</p>

<p>$$\rho_l = \frac{NASC_l}{(4 \pi \sigma_{bs,l})}$$</p>
<p>where:</p>
<p>\(\rho_l\) = area density of fish (ind. per sqare nautical mile) in length group \(l\)</p>
<p>References:</p>
<p>Johnsen, E,.Totland, A.,Skaalevik, A., et al., 2019, StoX: An open source software for marine survey analyses. Methods Ecol Evol. 2019;10:1523_1528. <a href="https://doi.org/10.1111/2041-210X.13250" class="external-link">doi:10.1111/2041-210X.13250</a></p>
<p>MacLennan, D. N., Fernandes, P. G., and Dalen, J. 2002. A consistent approach to definitions and symbols in fisheries acoustics. ICES Journal of Marine Science, 59: 365_369.</p>
<p>Ona, E. 2003, An expanded target strength relationship for herring, ICES Journal of Marine Science, Volume 60, Issue 3, 2003, Pages 493_499, <a href="https://doi.org/10.1016/S1054-3139%2803%2900031-6" class="external-link">doi:10.1016/S1054-3139(03)00031-6</a></p>
<p>Simmonds, J., and MacLennan, D. 2005. Fisheries Acoustics. Theory and Practice, Blackwell Science, Oxford. 437 pp.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>See <code><a href="SweptAreaDensity.html">SweptAreaDensity</a></code> for swept-area density. To define the acoustic target strength, see <code><a href="AcousticTargetStrength.html">AcousticTargetStrength</a></code>. The DensityData leads to the <code><a href="QuantityData.html">QuantityData</a></code> in a typical survey estimation model.</p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Arne Johannes Holmin, Ibrahim Umar, Sindre Vatnehol, Edvin Fuglebakk, Aasmund Skaalevik, Esmael Musema Hassen, Anthony Hennessey, Espen Johnsen, Atle Totland, Norwegian Institute of Marine Research.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

